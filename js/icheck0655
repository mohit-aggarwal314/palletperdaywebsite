(function(n){function y(n,r,u){var v=n[0],e=/er/.test(u)?h:/bl/.test(u)?f:t,c=u==d?{checked:v[t],disabled:v[f],indeterminate:"true"==n.attr(h)||"false"==n.attr(p)}:v[e];if(/^(ch|di|in)/.test(u)&&!c)a(n,e);else if(/^(un|en|de)/.test(u)&&c)o(n,e);else if(u==d)for(e in c)c[e]?a(n,e,!0):o(n,e,!0);else r&&"toggle"!=u||(r||n[l]("ifClicked"),c?v[i]!==s&&o(n,e):a(n,e))}function a(l,a,y){var w=l[0],d=l.parent(),nt=a==t,rt=a==h,et=a==f,ut=rt?p:nt?it:"enabled",ot=r(l,ut+v(w[i])),st=r(l,a+v(w[i]));if(!0!==w[a]){if(!y&&a==t&&w[i]==s&&w.name){var ft=l.closest("form"),g='input[name="'+w.name+'"]',g=ft.length?ft.find(g):n(g);g.each(function(){this!==w&&n(this).data(u)&&o(n(this),a)})}rt?(w[a]=!0,w[t]&&o(l,t,"force")):(y||(w[a]=!0),nt&&w[h]&&o(l,h,!1));tt(l,nt,a,y)}w[f]&&r(l,b,!0)&&d.find("."+k).css(b,"default");d[e](st||r(l,a)||"");et?d.attr("aria-disabled","true"):d.attr("aria-checked",rt?"mixed":"true");d[c](ot||r(l,ut)||"")}function o(n,u,o){var s=n[0],l=n.parent(),y=u==t,w=u==h,d=u==f,a=w?p:y?it:"enabled",g=r(n,a+v(s[i])),nt=r(n,u+v(s[i]));!1!==s[u]&&((w||!o||"force"==o)&&(s[u]=!1),tt(n,y,a,o));!s[f]&&r(n,b,!0)&&l.find("."+k).css(b,"pointer");l[c](nt||r(n,u)||"");d?l.attr("aria-disabled","false"):l.attr("aria-checked","false");l[e](g||r(n,a)||"")}function nt(t,i){t.data(u)&&(t.parent().html(t.attr("style",t.data(u).s||"")),i&&t[l](i),t.off(".i").unwrap(),n(w+'[for="'+t[0].id+'"]').add(t.closest(w)).off(".i"))}function r(n,t,i){if(n.data(u))return n.data(u).o[t+(i?"":"Class")]}function v(n){return n.charAt(0).toUpperCase()+n.slice(1)}function tt(n,t,i,r){r||(t&&n[l]("ifToggled"),n[l]("ifChanged")[l]("if"+v(i)))}var u="iCheck",k=u+"-helper",s="radio",t="checked",it="un"+t,f="disabled",p="determinate",h="in"+p,d="update",i="type",e="addClass",c="removeClass",l="trigger",w="label",b="cursor",g=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);n.fn[u]=function(r,v){var rt='input[type="checkbox"], input[type="'+s+'"]',b=n(),et=function(t){t.each(function(){var t=n(this);b=t.is(rt)?b.add(t):b.add(t.find(rt))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),et(this),b.each(function(){var t=n(this);"destroy"==r?nt(t,"ifDestroyed"):y(t,!0,r);n.isFunction(v)&&v()});if("object"!=typeof r&&r)return this;var p=n.extend({checkedClass:t,disabledClass:f,indeterminateClass:h,labelHover:!0,aria:!1},r),ut=p.handle,it=p.hoverClass||"hover",ht=p.focusClass||"focus",ot=p.activeClass||"active",st=!!p.labelHover,ft=p.labelHoverClass||"hover",tt=(""+p.increaseArea).replace("%","")|0;return("checkbox"==ut||ut==s)&&(rt='input[type="'+ut+'"]'),-50>tt&&(tt=-50),et(this),b.each(function(){var h=n(this);nt(h);var v=this,et=v.id,ut=-tt+"%",b=100+2*tt+"%",b={position:"absolute",top:ut,left:ut,display:"block",width:b,height:b,margin:0,padding:0,background:"#fff",border:0,opacity:0},ut=g?{position:"absolute",visibility:"hidden"}:tt?b:{position:"absolute",opacity:0},at="checkbox"==v[i]?p.checkboxClass||"icheckbox":p.radioClass||"i"+s,rt=n(w+'[for="'+et+'"]').add(h.closest(w)),ct=!!p.aria,lt=u+"-"+Math.random().toString(36).replace("0.",""),r='<div class="'+at+'" '+(ct?'role="'+v[i]+'" ':"");if(rt.length&&ct&&rt.each(function(){r+='aria-labelledby="';this.id?r+=this.id:(this.id=lt,r+=lt);r+='"'}),r=h.wrap(r+"/>")[l]("ifCreated").parent().append(p.insert),b=n('<ins class="'+k+'"/>').css(b).appendTo(r),h.data(u,{o:p,s:h.attr("style")}).css(ut),p.inheritClass&&r[e](v.className||""),p.inheritID&&et&&r.attr("id",u+"-"+et),"static"==r.css("position")&&r.css("position","relative"),y(h,!0,d),rt.length)rt.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(t){var u=t[i],o=n(this);if(!v[f]){if("click"==u){if(n(t.target).is("a"))return;y(h,!1,!0)}else st&&(/ut|nd/.test(u)?(r[c](it),o[c](ft)):(r[e](it),o[e](ft)));if(g)t.stopPropagation();else return!1}});h.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(n){var u=n[i];if(n=n.keyCode,"click"==u)return!1;if("keydown"==u&&32==n)return v[i]==s&&v[t]||(v[t]?o(h,t):a(h,t)),!1;"keyup"==u&&v[i]==s?v[t]||a(h,t):/us|ur/.test(u)&&r["blur"==u?c:e](ht)});b.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(n){var t=n[i],u=/wn|up/.test(t)?ot:it;if(!v[f])if("click"==t?y(h,!1,!0):(/wn|er|in/.test(t)?r[e](u):r[c](u+" "+ot),rt.length&&st&&u==it&&rt[/ut|nd/.test(t)?c:e](ft)),g)n.stopPropagation();else return!1})})}})(window.jQuery||window.Zepto)